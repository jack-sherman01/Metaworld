# Create a tmux session
tmux new -s mt10_train

if already there:
tmux kill-session -t mt10_train

# Run with xvfb-run (simulate a virtual display)
cd /home/hzhang/heng/omniR/Metaworld
conda activate metaworld

xvfb-run -a bash train_MT10.sh

# Detach the session (press Ctrl+B then D)

## Run a single task push-v3 using omniReward:
xvfb-run -a python3 scripts/train_with_omni_reward.py

## using local LLaVA model
xvfb-run -a python scripts/train_with_omni_reward.py --provider llava --device cuda


## Run a single task push-v3
xvfb-run -a python scripts/train_sb3_single_task.py \
  --benchmark MT10 \
  --task push-v3 \
  --algo sac \
  --total-timesteps 1000000 \
  --n-envs 8 \
  --reward-version old \
  --save-root temp_test